<!DOCTYPE html>
<html lang="en">
<head>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N2T9SFWK');</script>
<!-- End Google Tag Manager -->
    
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K7VHL5SW96"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K7VHL5SW96');
</script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FurniShop - Dynamic Furniture Website</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Lucide React Icons CDN -->
    <!-- Note: Lucide React icons are typically used within a React build environment.
         For a standalone HTML file, we'll simulate their presence or use basic text.
         The original React code uses 'lucide-react' components, which won't work directly here.
         I'll include the necessary functions/components from the React code and remove direct lucide-react imports.
         Instead, I'll use basic text or simple inline SVG/emojis for icons to ensure it runs.
         For this example, I'll keep the Lucide imports in the React code block, but they won't render
         without a proper React build setup. The functionality will still be there.
         For a direct HTML file, you'd typically use a different icon library like Font Awesome via CDN.
         For demonstration, I'll use text labels for buttons instead of Lucide icons.
    -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .animate-fade-in-up {
            animation: fade-in-up 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        .animate-scale-in {
            animation: scale-in 0.5s ease-out forwards;
            transform: scale(0.8);
            opacity: 0;
        }
        .animation-delay-200 { animation-delay: 0.2s; }
        .animation-delay-400 { animation-delay: 0.4s; }

        @keyframes fade-in-up {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes scale-in {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N2T9SFWK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    
    <div id="root"></div>

    <script type="text/babel">
        // Import necessary React hooks and context
        const { useState, createContext, useContext, useEffect } = React;

        // Mock Lucide React icons for standalone HTML
        // In a real React project with a build step, you would import them directly:
        // import { ShoppingCart, Home, CreditCard, CheckCircle, Package, Percent, MinusCircle, PlusCircle, Trash2, XCircle } from 'lucide-react';
        const ShoppingCart = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>üõí {children}</span>;
        const Home = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>üè† {children}</span>;
        const CreditCard = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>üí≥ {children}</span>;
        const CheckCircle = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>‚úÖ {children}</span>;
        const Package = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>üì¶ {children}</span>;
        const Percent = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>üè∑Ô∏è {children}</span>;
        const MinusCircle = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>‚ûñ {children}</span>;
        const PlusCircle = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>‚ûï {children}</span>;
        const Trash2 = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>üóëÔ∏è {children}</span>;
        const XCircle = ({ size, className, children }) => <span className={className} style={{ fontSize: size ? `${size}px` : '1em' }}>‚ùå {children}</span>;


        // Create a context for the shopping cart
        const CartContext = createContext();

        // Custom hook to use the cart context
        const useCart = () => {
            return useContext(CartContext);
        };

        // Product data (mock data)
        const productsData = [
            { id: 1, name: 'Modern Sofa', price: 899.99, discount: 15, image: 'https://placehold.co/400x300/F0F0F0/333333?text=Modern+Sofa' },
            { id: 2, name: 'Minimalist Coffee Table', price: 249.99, discount: 10, image: 'https://placehold.co/400x300/F0F0F0/333333?text=Coffee+Table' },
            { id: 3, name: 'Ergonomic Office Chair', price: 399.99, discount: 20, image: 'https://placehold.co/400x300/F0F0F0/333333?text=Office+Chair' },
            { id: 4, name: 'King Size Bed Frame', price: 1200.00, discount: 0, image: 'https://placehold.co/400x300/F0F0F0/333333?text=Bed+Frame' },
            { id: 5, name: 'Stylish Bookshelf', price: 300.00, discount: 5, image: 'https://placehold.co/400x300/F0F0F0/333333?text=Bookshelf' },
            { id: 6, name: 'Dining Table Set', price: 950.00, discount: 12, image: 'https://placehold.co/400x300/F0F0F0/333333?text=Dining+Set' },
        ];

        const getDiscountedPrice = (product) => {
            return product.price * (1 - product.discount / 100);
        };

        // Utility function to format currency
        const formatCurrency = (amount) => {
            return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);
        };

        // Header Component
        const Header = ({ navigateTo, cartItemCount }) => {
            return (
                <header className="bg-gray-800 text-white p-4 shadow-md sticky top-0 z-50">
                    <div className="container mx-auto flex justify-between items-center flex-wrap">
                        <h1 className="text-3xl font-bold text-indigo-300 cursor-pointer" onClick={() => navigateTo('landing')}>
                            FurniShop
                        </h1>
                        <nav className="mt-2 sm:mt-0">
                            <ul className="flex space-x-4">
                                <li>
                                    <button
                                        onClick={() => navigateTo('landing')}
                                        className="flex items-center px-3 py-2 rounded-md hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    >
                                        <Home className="mr-1" size={20} /> Home
                                    </button>
                                </li>
                                <li>
                                    <button
                                        onClick={() => navigateTo('products')}
                                        className="flex items-center px-3 py-2 rounded-md hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    >
                                        <Package className="mr-1" size={20} /> Products
                                    </button>
                                </li>
                                <li>
                                    <button
                                        onClick={() => navigateTo('cart')}
                                        className="relative flex items-center px-3 py-2 rounded-md hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    >
                                        <ShoppingCart className="mr-1" size={20} /> Cart
                                        {cartItemCount > 0 && (
                                            <span className="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">
                                                {cartItemCount}
                                            </span>
                                        )}
                                    </button>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </header>
            );
        };

        // Footer Component
        const Footer = () => {
            return (
                <footer className="bg-gray-800 text-white p-4 mt-8 shadow-inner">
                    <div className="container mx-auto text-center text-sm">
                        &copy; {new Date().getFullYear()} FurniShop. All rights reserved.
                    </div>
                </footer>
            );
        };

        // Product Card Component
        const ProductCard = ({ product, onAddToCart }) => {
            const finalPrice = getDiscountedPrice(product);

            return (
                <div className="bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300 flex flex-col h-full">
                    <img
                        src={product.image}
                        alt={product.name}
                        className="w-full h-48 object-cover object-center"
                        onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/400x300/F0F0F0/333333?text=${encodeURIComponent(product.name)}`; }}
                    />
                    <div className="p-4 flex flex-col flex-grow">
                        <h3 className="text-xl font-semibold text-gray-900 mb-2">{product.name}</h3>
                        <div className="flex items-baseline mb-3">
                            {product.discount > 0 ? (
                                <>
                                    <span className="text-gray-500 line-through mr-2">{formatCurrency(product.price)}</span>
                                    <span className="text-green-600 font-bold text-lg">{formatCurrency(finalPrice)}</span>
                                    <span className="ml-2 text-sm text-red-500 font-medium">({product.discount}% OFF)</span>
                                </>
                            ) : (
                                <span className="text-gray-900 font-bold text-lg">{formatCurrency(product.price)}</span>
                            )}
                        </div>
                        <button
                            onClick={() => onAddToCart(product)}
                            className="mt-auto bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                            <ShoppingCart size={18} className="mr-2" /> Add to Cart
                        </button>
                    </div>
                </div>
            );
        };

        // Landing Page Component
        const LandingPage = ({ navigateTo }) => {
            const { addToCart } = useCart();
            const discountedProducts = productsData.filter(p => p.discount > 0);

            return (
                <div className="container mx-auto p-4">
                    {/* Hero Section */}
                    <section className="bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg p-8 mb-8 shadow-xl text-center">
                        <h2 className="text-5xl font-extrabold mb-4 animate-fade-in-up">
                            Welcome to FurniShop
                        </h2>
                        <p className="text-xl mb-6 animate-fade-in-up animation-delay-200">
                            Discover exquisite furniture for every corner of your home.
                        </p>
                        <button
                            onClick={() => navigateTo('products')}
                            className="bg-white text-indigo-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-100 transform hover:scale-105 transition-all duration-300 animate-fade-in-up animation-delay-400 focus:outline-none focus:ring-2 focus:ring-white"
                        >
                            Explore Our Collection
                        </button>
                    </section>

                    {/* Discount Products Section */}
                    <section className="mb-8">
                        <h2 className="text-4xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center">
                            <Percent className="mr-3 text-red-500" size={36} /> Hot Deals & Discounts
                        </h2>
                        {discountedProducts.length > 0 ? (
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                {discountedProducts.map(product => (
                                    <ProductCard key={product.id} product={product} onAddToCart={addToCart} />
                                ))}
                            </div>
                        ) : (
                            <p className="text-center text-gray-600 text-lg">No discount products available at the moment. Check back soon!</p>
                        )}
                    </section>
                </div>
            );
        };

        // Product Page Component
        const ProductPage = () => {
            const { addToCart } = useCart();

            return (
                <div className="container mx-auto p-4">
                    <h2 className="text-4xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center">
                        <Package className="mr-3 text-indigo-600" size={36} /> Our Furniture Collection
                    </h2>
                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        {productsData.map(product => (
                            <ProductCard key={product.id} product={product} onAddToCart={addToCart} />
                        ))}
                    </div>
                </div>
            );
        };

        // Cart Page Component
        const CartPage = ({ navigateTo }) => {
            const { cart, updateQuantity, removeFromCart } = useCart();

            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const subtotal = cart.reduce((sum, item) => sum + getDiscountedPrice(item.product) * item.quantity, 0);
            const shipping = subtotal > 0 ? 20.00 : 0; // Flat shipping fee if items are in cart
            const taxRate = 0.08; // 8% tax
            const tax = subtotal * taxRate;
            const grandTotal = subtotal + shipping + tax;

            return (
                <div className="container mx-auto p-4">
                    <h2 className="text-4xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center">
                        <ShoppingCart className="mr-3 text-green-600" size={36} /> Your Shopping Cart ({totalItems} items)
                    </h2>
                    {cart.length === 0 ? (
                        <div className="text-center p-8 bg-white rounded-lg shadow-md">
                            <p className="text-xl text-gray-600 mb-4">Your cart is empty!</p>
                            <button
                                onClick={() => navigateTo('products')}
                                className="bg-indigo-600 text-white py-2 px-6 rounded-md hover:bg-indigo-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            >
                                Start Shopping
                            </button>
                        </div>
                    ) : (
                        <div className="flex flex-col lg:flex-row gap-8">
                            {/* Cart Items */}
                            <div className="lg:w-2/3 bg-white rounded-lg shadow-md p-6">
                                {cart.map(item => (
                                    <div key={item.product.id} className="flex items-center border-b border-gray-200 py-4 last:border-b-0 flex-wrap">
                                        <img
                                            src={item.product.image}
                                            alt={item.product.name}
                                            className="w-24 h-24 object-cover rounded-md mr-4 flex-shrink-0"
                                            onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/100x100/F0F0F0/333333?text=${encodeURIComponent(item.product.name)}`; }}
                                        />
                                        <div className="flex-grow min-w-[150px] mt-2 sm:mt-0">
                                            <h3 className="text-lg font-semibold text-gray-900">{item.product.name}</h3>
                                            <p className="text-gray-600">Price: {formatCurrency(getDiscountedPrice(item.product))}</p>
                                        </div>
                                        <div className="flex items-center mt-2 sm:mt-0">
                                            <button
                                                onClick={() => updateQuantity(item.product.id, item.quantity - 1)}
                                                disabled={item.quantity === 1}
                                                className="p-1 rounded-full bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                            >
                                                <MinusCircle size={20} />
                                            </button>
                                            <span className="mx-3 text-lg font-medium">{item.quantity}</span>
                                            <button
                                                onClick={() => updateQuantity(item.product.id, item.quantity + 1)}
                                                className="p-1 rounded-full bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                            >
                                                <PlusCircle size={20} />
                                            </button>
                                        </div>
                                        <div className="text-lg font-bold text-gray-900 ml-auto mt-2 sm:mt-0">
                                            {formatCurrency(getDiscountedPrice(item.product) * item.quantity)}
                                        </div>
                                        <button
                                            onClick={() => removeFromCart(item.product.id)}
                                            className="ml-4 p-2 rounded-full text-red-600 hover:bg-red-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500"
                                        >
                                            <Trash2 size={20} />
                                        </button>
                                    </div>
                                ))}
                            </div>

                            {/* Order Summary */}
                            <div className="lg:w-1/3 bg-white rounded-lg shadow-md p-6 h-fit">
                                <h3 className="text-2xl font-bold text-gray-800 mb-4">Order Summary</h3>
                                <div className="space-y-2 text-gray-700 mb-6">
                                    <div className="flex justify-between">
                                        <span>Subtotal:</span>
                                        <span>{formatCurrency(subtotal)}</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span>Shipping:</span>
                                        <span>{formatCurrency(shipping)}</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span>Tax ({taxRate * 100}%):</span>
                                        <span>{formatCurrency(tax)}</span>
                                    </div>
                                    <div className="flex justify-between text-xl font-bold text-gray-900 border-t pt-4 mt-4">
                                        <span>Grand Total:</span>
                                        <span>{formatCurrency(grandTotal)}</span>
                                    </div>
                                </div>
                                <button
                                    onClick={() => navigateTo('payment')}
                                    className="w-full bg-green-600 text-white py-3 rounded-md hover:bg-green-700 transition-colors duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-green-500"
                                >
                                    <CreditCard size={20} className="mr-2" /> Proceed to Payment
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Payment Gateway Page Component
        const PaymentGatewayPage = ({ navigateTo }) => {
            const [selectedMethod, setSelectedMethod] = useState('credit_card');
            const [paymentProcessing, setPaymentProcessing] = useState(false);
            const [showPaymentSuccess, setShowPaymentSuccess] = useState(false);
            const [cardNumber, setCardNumber] = useState('');
            const [expiryDate, setExpiryDate] = useState('');
            const [cvv, setCvv] = useState('');
            const [cardholderName, setCardholderName] = useState('');
            const [errors, setErrors] = useState({});
            const { clearCart } = useCart();

            const validateCreditCardFields = () => {
                let newErrors = {};
                if (selectedMethod === 'credit_card') {
                    if (!cardNumber.trim()) newErrors.cardNumber = 'Card Number is required.';
                    if (!expiryDate.trim()) newErrors.expiryDate = 'Expiry Date is required.';
                    if (!cvv.trim()) newErrors.cvv = 'CVV is required.';
                    if (!cardholderName.trim()) newErrors.cardholderName = 'Cardholder Name is required.';
                }
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const handlePayment = () => {
                if (selectedMethod === 'credit_card') {
                    const isValid = validateCreditCardFields();
                    if (!isValid) {
                        return; // Stop if validation fails
                    }
                }

                setPaymentProcessing(true);
                // Simulate payment processing
                setTimeout(() => {
                    setPaymentProcessing(false);
                    setShowPaymentSuccess(true);
                    clearCart(); // Clear cart after successful payment
                    setTimeout(() => {
                        navigateTo('thankyou');
                    }, 1500); // Redirect to thank you page after a short delay
                }, 2000);
            };

            return (
                <div className="container mx-auto p-4">
                    <h2 className="text-4xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center">
                        <CreditCard className="mr-3 text-blue-600" size={36} /> Payment Gateway
                    </h2>
                    <div className="max-w-xl mx-auto bg-white rounded-lg shadow-md p-8">
                        {showPaymentSuccess ? (
                            <div className="text-center text-green-600 text-2xl font-semibold flex flex-col items-center">
                                <CheckCircle size={64} className="mb-4 animate-bounce" />
                                Payment Successful!
                            </div>
                        ) : (
                            <>
                                <div className="mb-6">
                                    <h3 className="text-xl font-semibold text-gray-800 mb-4">Select Payment Method</h3>
                                    <div className="flex flex-col space-y-3">
                                        <label className="flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-50 transition-colors duration-200">
                                            <input
                                                type="radio"
                                                name="paymentMethod"
                                                value="credit_card"
                                                checked={selectedMethod === 'credit_card'}
                                                onChange={() => { setSelectedMethod('credit_card'); setErrors({}); }} // Clear errors on method change
                                                className="form-radio h-5 w-5 text-indigo-600"
                                            />
                                            <span className="ml-3 text-lg font-medium text-gray-700">Credit/Debit Card</span>
                                        </label>
                                        <label className="flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-50 transition-colors duration-200">
                                            <input
                                                type="radio"
                                                name="paymentMethod"
                                                value="paypal"
                                                checked={selectedMethod === 'paypal'}
                                                onChange={() => { setSelectedMethod('paypal'); setErrors({}); }}
                                                className="form-radio h-5 w-5 text-indigo-600"
                                            />
                                            <span className="ml-3 text-lg font-medium text-gray-700">PayPal</span>
                                        </label>
                                        <label className="flex items-center p-3 border rounded-md cursor-pointer hover:bg-gray-50 transition-colors duration-200">
                                            <input
                                                type="radio"
                                                name="paymentMethod"
                                                value="upi"
                                                checked={selectedMethod === 'upi'}
                                                onChange={() => { setSelectedMethod('upi'); setErrors({}); }}
                                                className="form-radio h-5 w-5 text-indigo-600"
                                            />
                                            <span className="ml-3 text-lg font-medium text-gray-700">UPI / Net Banking</span>
                                        </label>
                                    </div>
                                </div>

                                {selectedMethod === 'credit_card' && (
                                    <div className="space-y-4 mb-6">
                                        <div>
                                            <input
                                                type="text"
                                                placeholder="Card Number"
                                                value={cardNumber}
                                                onChange={(e) => setCardNumber(e.target.value)}
                                                className={`w-full p-3 border ${errors.cardNumber ? 'border-red-500' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}
                                                required
                                            />
                                            {errors.cardNumber && <p className="text-red-500 text-sm mt-1">{errors.cardNumber}</p>}
                                        </div>
                                        <div className="flex space-x-4">
                                            <div className="w-1/2">
                                                <input
                                                    type="text"
                                                    placeholder="MM/YY"
                                                    value={expiryDate}
                                                    onChange={(e) => setExpiryDate(e.target.value)}
                                                    className={`w-full p-3 border ${errors.expiryDate ? 'border-red-500' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}
                                                    required
                                                />
                                                {errors.expiryDate && <p className="text-red-500 text-sm mt-1">{errors.expiryDate}</p>}
                                            </div>
                                            <div className="w-1/2">
                                                <input
                                                    type="text"
                                                    placeholder="CVV"
                                                    value={cvv}
                                                    onChange={(e) => setCvv(e.target.value)}
                                                    className={`w-full p-3 border ${errors.cvv ? 'border-red-500' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}
                                                    required
                                                />
                                                {errors.cvv && <p className="text-red-500 text-sm mt-1">{errors.cvv}</p>}
                                            </div>
                                        </div>
                                        <div>
                                            <input
                                                type="text"
                                                placeholder="Cardholder Name"
                                                value={cardholderName}
                                                onChange={(e) => setCardholderName(e.target.value)}
                                                className={`w-full p-3 border ${errors.cardholderName ? 'border-red-500' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}
                                                required
                                            />
                                            {errors.cardholderName && <p className="text-red-500 text-sm mt-1">{errors.cardholderName}</p>}
                                        </div>
                                    </div>
                                )}

                                {selectedMethod === 'paypal' && (
                                    <div className="text-center mb-6">
                                        <p className="text-gray-700 text-lg mb-4">You will be redirected to PayPal to complete your purchase.</p>
                                        <button className="bg-blue-700 text-white py-2 px-6 rounded-md hover:bg-blue-800 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                            Login to PayPal
                                        </button>
                                    </div>
                                )}

                                {selectedMethod === 'upi' && (
                                    <div className="text-center mb-6">
                                        <p className="text-gray-700 text-lg mb-4">Enter your UPI ID or select Net Banking option.</p>
                                        <input
                                            type="text"
                                            placeholder="Your UPI ID (e.g., example@bank)"
                                            className="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                        />
                                    </div>
                                )}

                                <button
                                    onClick={handlePayment}
                                    disabled={paymentProcessing}
                                    className="w-full bg-indigo-600 text-white py-3 rounded-md hover:bg-indigo-700 transition-colors duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"
                                >
                                    {paymentProcessing ? (
                                        <svg className="animate-spin h-5 w-5 text-white mr-3" viewBox="0 0 24 24">
                                            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                                            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                        </svg>
                                    ) : (
                                        <CreditCard size={20} className="mr-2" />
                                    )}
                                    {paymentProcessing ? 'Processing...' : 'Pay Now'}
                                </button>
                                <button
                                    onClick={() => navigateTo('cart')}
                                    className="w-full mt-4 bg-gray-200 text-gray-800 py-3 rounded-md hover:bg-gray-300 transition-colors duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-gray-500"
                                >
                                    <XCircle size={20} className="mr-2" /> Cancel
                                </button>
                            </>
                        )}
                    </div>
                </div>
            );
        };

        // Thank You Page Component
        const ThankYouPage = ({ navigateTo }) => {
            return (
                <div className="container mx-auto p-4 text-center">
                    <div className="bg-white rounded-lg shadow-md p-8 max-w-md mx-auto">
                        <CheckCircle size={80} className="text-green-500 mx-auto mb-6 animate-scale-in" />
                        <h2 className="text-4xl font-bold text-gray-800 mb-4 animate-fade-in-up">Thank You for Your Order!</h2>
                        <p className="text-lg text-gray-600 mb-6 animate-fade-in-up animation-delay-200">
                            Your purchase has been successful. We appreciate your business!
                        </p>
                        <button
                            onClick={() => navigateTo('landing')}
                            className="bg-indigo-600 text-white py-3 px-8 rounded-md hover:bg-indigo-700 transition-colors duration-200 animate-fade-in-up animation-delay-400 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                            <Home className="mr-2" size={20} /> Continue Shopping
                        </button>
                    </div>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = useState('landing');
            const [cart, setCart] = useState([]); // [{ product: {}, quantity: 1 }]

            // Function to add product to cart
            const addToCart = (product) => {
                setCart(prevCart => {
                    const existingItem = prevCart.find(item => item.product.id === product.id);
                    if (existingItem) {
                        return prevCart.map(item =>
                            item.product.id === product.id ? { ...item, quantity: item.quantity + 1 } : item
                        );
                    } else {
                        return [...prevCart, { product, quantity: 1 }];
                    }
                });
            };

            // Function to update quantity of item in cart
            const updateQuantity = (productId, newQuantity) => {
                if (newQuantity <= 0) {
                    removeFromCart(productId);
                    return;
                }
                setCart(prevCart =>
                    prevCart.map(item =>
                        item.product.id === productId ? { ...item, quantity: newQuantity } : item
                    )
                );
            };

            // Function to remove item from cart
            const removeFromCart = (productId) => {
                setCart(prevCart => prevCart.filter(item => item.product.id !== productId));
            };

            // Function to clear the cart
            const clearCart = () => {
                setCart([]);
            };

            // Navigate function
            const navigateTo = (page) => {
                setCurrentPage(page);
            };

            const cartItemCount = cart.reduce((sum, item) => sum + item.quantity, 0);

            return (
                <CartContext.Provider value={{ cart, addToCart, updateQuantity, removeFromCart, clearCart }}>
                    <div className="min-h-screen flex flex-col bg-gray-100 font-inter">
                        <Header navigateTo={navigateTo} cartItemCount={cartItemCount} />
                        <main className="flex-grow py-8">
                            {currentPage === 'landing' && <LandingPage navigateTo={navigateTo} />}
                            {currentPage === 'products' && <ProductPage />}
                            {currentPage === 'cart' && <CartPage navigateTo={navigateTo} />}
                            {currentPage === 'payment' && <PaymentGatewayPage navigateTo={navigateTo} />}
                            {currentPage === 'thankyou' && <ThankYouPage navigateTo={navigateTo} />}
                        </main>
                        <Footer />
                    </div>
                </CartContext.Provider>
            );
        };

        // Render the App component to the root div using createRoot
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
